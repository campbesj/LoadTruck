@model LoadTruck.Models.TruckLoad

@{
    ViewBag.Title = "Loading";
    Layout = "~/Views/Shared/nologo.cshtml";
}


@if (Model.hasError)
{
    <span class="test" style="color:red">
        <h3>@ViewBag.Message</h3>
    </span>
}
else
{
    <h3>@ViewBag.Message</h3>
}

@using (Html.BeginForm())
{
    @Html.AntiForgeryToken()

    <div class="form-horizontal">
        <h4>TruckLoad</h4>
        <hr />
        @Html.ValidationSummary(true, "", new { @class = "text-danger" })
        @*<div class="form-group">
                @Html.LabelFor(model => model.hasError, htmlAttributes: new { @class = "control-label col-md-2" })
                <div class="col-md-10">
                    <div class="checkbox">
                        @Html.EditorFor(model => model.hasError)
                        @Html.ValidationMessageFor(model => model.hasError, "", new { @class = "text-danger" })
                    </div>
                </div>
            </div>*@

        @*<div class="form-group">
                @Html.LabelFor(model => model.LoadID, htmlAttributes: new { @class = "control-label col-md-2" })
                <div class="col-md-10">
                    @Html.EditorFor(model => model.LoadID, new { htmlAttributes = new { @class = "form-control" } })
                    @Html.ValidationMessageFor(model => model.LoadID, "", new { @class = "text-danger" })
                </div>
            </div>*@

        @*<div class="form-group">
                @Html.LabelFor(model => model.Ship_to_Route_Code, htmlAttributes: new { @class = "control-label col-md-2" })
                <div class="col-md-10">
                    @Html.EditorFor(model => model.Ship_to_Route_Code, new { htmlAttributes = new { @class = "form-control" } })
                    @Html.ValidationMessageFor(model => model.Ship_to_Route_Code, "", new { @class = "text-danger" })
                </div>
            </div>*@
        @if ((Model.TrailerID == null) || (Model.TrailerID == ""))
        {
            <div class="form-group">
                @Html.LabelFor(model => model.TrailerID, htmlAttributes: new { @class = "control-label col-md-1" })
                <div class="col-md-10">
                    @Html.EditorFor(model => model.TrailerID, new { htmlAttributes = new { @class = "form-control" } })
                    @Html.ValidationMessageFor(model => model.TrailerID, "", new { @class = "text-danger" })
                </div>
            </div>
        }
        else
        {
            <span class="test" style="font-size: 22px">
                @Html.DisplayFor(model => model.TrailerID)
            </span>
            @Html.HiddenFor(model => model.TrailerID)

            <div class="form-group">
                @Html.LabelFor(model => model.LawTag, htmlAttributes: new { @class = "control-label col-md-1" })
                <div class="col-md-10">
                    @Html.EditorFor(model => model.LawTag, new { htmlAttributes = new { @class = "form-control" } })
                    @Html.ValidationMessageFor(model => model.LawTag, "", new { @class = "text-danger" })
                </div>
            </div>

        }
        @Html.HiddenFor(model => model.LawTagDelete)


        @*<div class="form-group">
                @Html.LabelFor(model => model.Ship_Date, htmlAttributes: new { @class = "control-label col-md-2" })
                <div class="col-md-10">
                    @Html.EditorFor(model => model.Ship_Date, new { htmlAttributes = new { @class = "form-control" } })
                    @Html.ValidationMessageFor(model => model.Ship_Date, "", new { @class = "text-danger" })
                </div>
            </div>

            <div class="form-group">
                @Html.LabelFor(model => model.Closed, htmlAttributes: new { @class = "control-label col-md-2" })
                <div class="col-md-10">
                    @Html.EditorFor(model => model.Closed, new { htmlAttributes = new { @class = "form-control" } })
                    @Html.ValidationMessageFor(model => model.Closed, "", new { @class = "text-danger" })
                </div>
            </div>

            <div class="form-group">
                <div class="col-md-offset-2 col-md-10">
                    <input type="submit" value="Create" class="btn btn-default" />
                </div>
            </div>*@
        <div class="form-group">
            <div class="col-md-offset-2 col-md-10">
                <input id="submitnext" type="submit" value="Send" class="btn btn-default" />
            </div>
        </div>

    </div>
}

<div>

</div>

<script>
    $(document).ready(function () {
         @if ((Model.TrailerID == null) || (Model.TrailerID == ""))
         {
             <text>
             $('#TrailerID').focus();
             </text>
         }
         else
         {
             <text>
             $('#LawTag').focus();
             </text>
         }

        @if (Model.LawTagStatus == "already")
            {
             <text>
        if (confirm('Lawtag already scanned. Click Ok to remove from truck')) {
            $('#LawTagDelete').val("yes");
            $('#submitnext').focus().click();
        }
        else {
                    $('#LawTag').val("");
            $('#LawTag').focus();
            $('#LawTagDelete').val("no");
             }
             </text>
            }

        $('input').on("keypress", function (e) {
                var inputs = $(this).parents("form").eq(0).find(":input");
                var idx = inputs.index(this);
                //alert(idx);
                if (e.keyCode == 13) {
                $('#submitnext').focus().click();
                }
            });
        });


</script>
